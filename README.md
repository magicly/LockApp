# 爱眼5分钟 - 护眼提醒应用

一款帮助家长管理孩子用眼时间的 Android 应用，定时提醒孩子休息眼睛。

## 📱 功能介绍

- **自动提醒**：每小时 0-5分 和 30-35分 自动弹窗提醒休息
- **5分钟倒计时**：弹窗显示倒计时，结束后自动恢复
- **家长远程控制**：通过 HTTP 网页远程锁屏/解锁
- **自定义消息**：家长可以设置弹窗显示的文字内容
- **二维码访问**：扫码即可访问管理页面，无需输入网址

## 🔧 安装方法

1. 下载 APK 文件：`app-debug.apk`
2. 在 Android 手机上安装（允许安装未知来源应用）
3. 打开应用，授予"悬浮窗权限"
4. 点击"启动护眼提醒"即可

## 👶 孩子端使用

### 首次启动
1. 打开"爱眼5分钟"应用
2. 点击"启动护眼提醒"按钮
3. 授予悬浮窗权限（应用会自动跳转到设置页面）
4. 返回应用，再次点击启动

### 弹窗说明
- **触发时间**：每小时的 0-5分钟 和 30-35分钟
- **弹窗时长**：5分钟倒计时
- **能否关闭**：倒计时结束前无法关闭，只能等待

## 👨‍👩‍👧 家长控制

### 本地控制（在孩子手机上）
1. 打开"爱眼5分钟"应用
2. 点击"家长控制"按钮
3. 输入密码：**235711**
4. 显示二维码和管理信息

### 远程控制（在家长手机上）

#### 方法一：扫码访问（推荐）
1. 在孩子手机上打开家长控制面板，显示二维码
2. 家长用自己的手机扫描二维码
3. 直接进入管理页面

#### 方法二：浏览器访问
1. 确保家长手机和孩子手机在同一 WiFi 网络
2. 在孩子手机上查看家长控制面板中的 IP 地址
3. 家长手机浏览器访问：`http://[孩子手机IP]:34567/admin?key=d33a560e81699606e5c9d32341cae435`

### 管理功能

| 功能 | 说明 |
|------|------|
| **立即锁屏** | 强制立即显示休息弹窗，可设置时长（1-60分钟）和自定义消息 |
| **立即解锁** | 立即关闭弹窗，允许孩子继续使用手机 |
| **恢复自动** | 恢复按时间段自动提醒模式 |
| **显示/隐藏图标** | 控制应用图标是否显示在桌面 |

### 自定义消息示例
在"立即锁屏"时可以输入自定义消息，例如：
- "你妈叫你吃饭啦"
- "该写作业了"
- "眼睛累了，休息一下吧"

孩子手机上会显示家长设置的自定义文字。

## 🔐 密码说明

- **家长控制密码**：`235711`
- **HTTP API 密钥**：`d33a560e81699606e5c9d32341cae435`

## 🗑️ 卸载方法

**注意**：由于应用使用了设备管理员功能（如激活），卸载前需要先在家长控制面板中取消激活，或者直接通过系统设置卸载：

```
设置 → 应用管理 → 爱眼5分钟 → 卸载
```

如果无法卸载：
1. 进入"设置 → 安全 → 设备管理器"
2. 找到"爱眼5分钟"
3. 取消激活
4. 然后正常卸载

## ⚙️ 权限说明

应用需要以下权限：

| 权限 | 用途 |
|------|------|
| `SYSTEM_ALERT_WINDOW` | 显示悬浮窗弹窗（必需） |
| `FOREGROUND_SERVICE` | 保持后台运行（必需） |
| `INTERNET` | HTTP 控制服务（必需） |
| `ACCESS_WIFI_STATE` | 获取 IP 地址显示在家长面板 |

## 🐛 常见问题

### Q: 弹窗不显示怎么办？
A: 检查是否授予了悬浮窗权限，并在系统设置中允许后台运行。

### Q: 家长无法访问管理页面？
A: 确保家长手机和孩子手机连接同一 WiFi 网络。

### Q: 二维码扫描后无法访问？
A: 检查孩子手机的 IP 地址是否变化，重新打开家长控制面板获取最新地址。

### Q: 应用被系统杀死了怎么办？
A: 在系统设置中将"爱眼5分钟"设为后台允许、电池优化白名单。

## 📝 技术信息

- **包名**：`com.example.lock30min`
- **最低系统**：Android 7.0 (API 24)
- **目标系统**：Android 14 (API 34)
- **开发语言**：Kotlin

## ⚠️ 免责声明

本应用仅供家长辅助管理孩子用眼时间使用，开发者不对因使用本应用产生的任何纠纷负责。请合理安排孩子使用电子设备的时间。

---

**爱眼5分钟** - 保护视力，从小做起 👁️
